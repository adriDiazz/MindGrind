{"version":3,"file":"react-glow.cjs.development.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { CSSProperties, useEffect, useRef } from 'react'\r\nimport { GlowCaptureProps, GlowProps } from './index.types'\r\n\r\nexport const GlowCapture = (props: GlowCaptureProps) => {\r\n    const {\r\n        className = '',\r\n        size = 400,\r\n        ...rest\r\n    } = props\r\n\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const move = (e: PointerEvent) => {\r\n            if (e.pointerType === 'mouse') {\r\n                requestAnimationFrame(() => {\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-x', `${e.layerX}px`)\r\n                    // @ts-ignore\r\n                    element.current?.style.setProperty('--glow-y', `${e.layerY}px`)\r\n                })\r\n            }\r\n        }\r\n\r\n        const leave = () => {\r\n            element.current?.style.removeProperty('--glow-x')\r\n            element.current?.style.removeProperty('--glow-y')\r\n        }\r\n\r\n        element.current?.addEventListener('pointermove', move, { passive: true })\r\n        element.current?.addEventListener('pointerleave', leave, { passive: true })\r\n        return () => {\r\n            element.current?.removeEventListener('pointermove', move)\r\n            element.current?.removeEventListener('pointerleave', leave)\r\n        }\r\n    }, [])\r\n\r\n    return <div ref={element}\r\n        className={`glow-capture ${className}`}\r\n        style={{\r\n            position: 'relative',\r\n            '--glow-size': `${size}px`\r\n        } as CSSProperties}\r\n        {...rest} />\r\n}\r\n\r\n\r\nconst mask = `\r\nradial-gradient(var(--glow-size) var(--glow-size) at calc(var(--glow-x, -99999px) - var(--glow-left, 0px))\r\ncalc(var(--glow-y, -99999px) - var(--glow-top, 0px)), #000000 1%, transparent 50%)\r\n`\r\n\r\n\r\nexport const Glow = (props: GlowProps) => {\r\n\r\n    const {\r\n        className = '',\r\n        style,\r\n        children,\r\n        color = '#f50057',\r\n        debug = false,\r\n        ...rest\r\n    } = props\r\n\r\n\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n        element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n    })\r\n\r\n    useEffect(() => {\r\n        const observer = new ResizeObserver(() => {\r\n            requestAnimationFrame(() => {\r\n                element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n                element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n            })\r\n        })\r\n\r\n        const capture = element.current?.closest('.glow-capture')\r\n        if (capture)\r\n            observer.observe(capture)\r\n\r\n\r\n        return () => observer.disconnect()\r\n    }, [])\r\n\r\n    return <div ref={element} className='glow' style={{ display: 'grid' }}>\r\n        <div className={className}\r\n            style={{\r\n                ...style,\r\n                gridArea: '1/1/1/1'\r\n            }}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n        <div className={`glow-mask ${className}`}\r\n            // @ts-ignore\r\n            glow='true'\r\n            style={{\r\n                ...style,\r\n                '--glow-color': color,\r\n                gridArea: '1/1/1/1',\r\n                pointerEvents: 'none',\r\n                mask: debug ? undefined : mask,\r\n                WebkitMask: debug ? undefined : mask\r\n            } as CSSProperties}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n}"],"names":["GlowCapture","props","_props$className","className","_props$size","size","rest","_objectWithoutPropertiesLoose","_excluded","element","useRef","useEffect","move","e","pointerType","requestAnimationFrame","_element$current","current","style","setProperty","layerX","_element$current2","layerY","leave","_element$current3","removeProperty","_element$current4","_element$current5","addEventListener","passive","_element$current6","_element$current7","removeEventListener","_element$current8","React","ref","position","mask","Glow","_props$className2","children","_props$color","color","_props$debug","debug","_excluded2","_element$current9","_element$current10","offsetTop","_element$current11","_element$current12","offsetLeft","observer","ResizeObserver","_element$current13","_element$current14","_element$current15","_element$current16","capture","_element$current17","closest","observe","disconnect","display","_extends","gridArea","glow","pointerEvents","undefined","WebkitMask"],"mappings":"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"}